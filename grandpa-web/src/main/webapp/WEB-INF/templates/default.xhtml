<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:rich="http://richfaces.org/rich" xmlns:a4j="http://richfaces.org/a4j" xmlns:c="http://java.sun.com/jsp/jstl/core">
<f:view contentType=" text/html; charset=ISO-8859-1 " encoding="ISO-8859-1">
	<h:head>
		<title><h:outputText value="BotMaker" /></title>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		<h:outputStylesheet name="css/botmaker.css" />
		<h:outputStylesheet name="css/w3.css" />
		<h:outputStylesheet name="css/bk.css" />
		<h:outputStylesheet name="css/codemirror/codemirror.css" />
		<h:outputStylesheet name="css/codemirror/ambiance.css" />
		<h:outputStylesheet name="css/codemirror/cobalt.css" />
		<h:outputStylesheet name="css/codemirror/eclipse.css" />
		<h:outputStylesheet name="css/codemirror/elegant.css" />
		<h:outputStylesheet name="css/codemirror/erlang-dark.css" />
		<h:outputStylesheet name="css/codemirror/icecoder.css" />
		<h:outputStylesheet name="css/codemirror/liquibyte.css" />
		<h:outputStylesheet name="css/codemirror/monokai.css" />
		<h:outputStylesheet name="css/codemirror/pastel-on-dark.css" />
		<h:outputStylesheet name="css/codemirror/solarized.css" />
		<h:outputStylesheet name="css/codemirror/rubyblue.css" />
		<h:outputStylesheet name="css/codemirror/vibrant-ink.css" />
		<h:outputScript name="js/codemirror/lib/codemirror.js" />
		<h:outputScript name="js/codemirror/mode/groovy/groovy.js" />
		<h:outputScript name="js/markdown/markdown.min.js" />
		<h:outputScript name="js/bot49.js" />
	</h:head>
	<h:body styleClass="w3-display-container">
		<a4j:status onstart="#{rich:component('statPane')}.show()" onstop="#{rich:component('statPane')}.hide()" rendered="false" />
		<a4j:poll action="#{userAction.logoff()}" interval="300000" execute="@this" enabled="#{not botMakerCredentials.editing}" />
		<h:form id="frm" acceptcharset="ISO-8859-1">

			<h:panelGroup layout="block" styleClass="w3-display-container">

				<h:panelGroup layout="block" styleClass="w3-sidebar bkg-deepblue wd160 menubar">

					<h:graphicImage alt="Menu Visibility" value="/resources/img/icons/toggle-menu.png" title="toggle menu" width="24" height="24" styleClass="toggle-menu" />
					<h:graphicImage alt="Menu Visibility" value="/resources/img/icons/hide-menu.png" title="hide menu" width="24" height="24" styleClass="hide-menu" />

					<h:panelGroup layout="block" styleClass="pc100 vmid txctr">
						<h:graphicImage alt="BotMaker" value="/resources/img/botmaker-screen-white.png" title="BotMaker" width="65" height="40" styleClass="logo" />
					</h:panelGroup>
					<ui:include src="/pages/menu.xhtml" />
				</h:panelGroup>

				<h:panelGroup layout="block" styleClass="w3-rest" style="margin-left: 170pt">
					<h:panelGroup layout="block" styleClass="pc95">
						<ui:insert name="content">
							[Template content will be inserted here]
						</ui:insert>
					</h:panelGroup>
				</h:panelGroup>
			</h:panelGroup>

			<rich:popupPanel id="statPane" autosized="true" styleClass="statPane" modal="true">
    	        Please wait...
	        </rich:popupPanel>
		</h:form>
		<rich:notifyStack id="mainStack" position="topRight" direction="vertical" method="first" />
		<rich:notify id="notify" stack="mainStack" summary="#{msgAction.showMsg()}" escape="false" rendered="#{msgAction.mustShow}" styleClass="w3-tag w3-large w3-round-large w3-padding w3-blue" />

		<script type="text/javascript">
			$(document).ready(function(){
			    $("img.toggle-menu").click(function(){
			    	$("img.hide-menu:first").css("display", "inline-block").css("visibility", "visible");
			    	$("img.toggle-menu:first").css("display", "none").css("visibility", "hidden");
			    	var wdt = $("div.menubar:first").width();
			    	$("div.menubar:first").width("160pt");
			    	$("div.w3-rest:first").css("margin-left", "170pt");
			    	$("img.logo:first").width(65);
			    	$("img.logo:first").height(40);
			    });
			    $("img.hide-menu").click(function(){
			    	$("img.toggle-menu:first").css("display", "inline-block").css("visibility", "visible");
			    	$("img.hide-menu:first").css("display", "none").css("visibility", "hidden");
			    	$("div.menubar:first").width("30pt");
					$("div.w3-rest:first").css("margin-left", "40pt");
			    	$("img.logo:first").width(34);
			    	$("img.logo:first").height(21);
			    });
			});
		</script>

	</h:body>
</f:view>
</html>